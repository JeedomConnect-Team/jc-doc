"use strict";(self.webpackChunkjc_doc=self.webpackChunkjc_doc||[]).push([[2814],{3402:(e,s,i)=>{i.d(s,{A:()=>n});const n="data:image/png;base64,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"},4131:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"documentation/plugin/types/widgets","title":"Widgets","description":"Gestion des widgets","source":"@site/docs/documentation/plugin/types/widgets.md","sourceDirName":"documentation/plugin/types","slug":"/documentation/plugin/types/widgets","permalink":"/jc-doc/docs/documentation/plugin/types/widgets","draft":false,"unlisted":false,"editUrl":"https://github.com/jeedomconnect-team/jc-doc/edit/main/docs/documentation/plugin/types/widgets.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Widgets","sidebar_position":2},"sidebar":"docSidebar","previous":{"title":"Types disponibles","permalink":"/jc-doc/docs/documentation/plugin/types/"},"next":{"title":"Composants","permalink":"/jc-doc/docs/documentation/plugin/types/composants"}}');var d=i(4848),t=i(8453);const r={title:"Widgets",sidebar_position:2},o=void 0,c={},l=[{value:"Gestion des widgets <a></a>",id:"gestion-des-widgets-",level:2},{value:"Widgets disponibles",id:"widgets-disponibles",level:2}];function a(e){const s={a:"a",br:"br",code:"code",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.h2,{id:"gestion-des-widgets-",children:["Gestion des widgets ",(0,d.jsx)("a",{name:"gestionWidget"})]}),"\n",(0,d.jsx)(s.p,{children:'Pour cr\xe9er un widget, cliquez sur "Ajouter un widget", s\xe9lectionnez ensuite le type de widget que vous souhaitez cr\xe9er dans la liste d\xe9roulante de gauche puis renseignez les diff\xe9rents champs affich\xe9s \xe0 l\'\xe9cran avant de finaliser la cr\xe9ation en appuyant sur le bouton "Sauvegarder".'}),"\n",(0,d.jsx)(s.p,{children:"Quelques \xe9l\xe9ments sont standard et seront demand\xe9s pour l'ensemble des widgets :"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Actif"})," : Le widget sera (ou pas) affich\xe9 dans l'application. Pratique si vous voulez par exemple g\xe9rer un groupe de lumi\xe8res, mais ne pas afficher certaines d'entre elles."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Visible sous condition"})," : Permet d'ajouter une condition pour afficher ou masquer cet \xe9l\xe9ment (uniquement si 'actif' est coch\xe9)."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pi\xe8ce"})," : S\xe9lection de la pi\xe8ce associ\xe9e (identique aux objets g\xe9r\xe9s dans Jeedom)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Nom"})," : Nom du widget, affich\xe9 sur le widget"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Nom d'affichage"})," : Nom affich\xe9 sur les pages de configuration. Si vide, alors le nom est utilis\xe9."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Sous-titre"})," Information compl\xe9mentaire affich\xe9e dans l'application. Le mode personalis\xe9 permet de mettre une phrase quelconque, ou un texte dynamique"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Affichage forc\xe9"})," : De fa\xe7on standard, chaque widget (sauf exception) poss\xe8de 3 types d'affichage : carte, vignette et d\xe9tail. Les affichages carte et vignettes peuvent \xeatre choisis via l'ic\xf4ne en haut \xe0 droite dans l'application. L'affichage d\xe9tail est une page enti\xe8re affich\xe9e quand on clique sur le widget. Vous pouvez ici forcer un widget \xe0 s'afficher d'une de ces 3 fa\xe7ons.",(0,d.jsx)(s.br,{}),"\n","Attention pour le mode d\xe9tail, le widget doit \xeatre seul sur sa page."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"S\xe9curiser les actions"})," : Toutes les commandes de type action peuvent \xeatre s\xe9curis\xe9es \xe0 l'aide de ces trois boutons :",(0,d.jsx)(s.br,{}),"\n",(0,d.jsx)(s.img,{src:i(3402).A+"",width:"154",height:"39"}),"\nLe premier permet de faire une simple demande de confirmation de l'action.",(0,d.jsx)(s.br,{}),"\n","Le second demande une donn\xe9e biom\xe9trique (empreinte digitale, reconnaissance faciale) pour ex\xe9cuter l'action (sur appareils disposant d'un capteur).",(0,d.jsx)(s.br,{}),"\n","Le dernier demandera le mot de passe configur\xe9 dans les param\xe8tres de l'\xe9quipement JC."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Images"})," : Les images de l'application sont stock\xe9es dans le dossier ",(0,d.jsx)(s.code,{children:"plugins/JeedomConnect/data/img/"}),". Si vous souhaitez ajouter des images persos, utilisez l'assistant, ou bien copiez vos images dans ",(0,d.jsx)(s.code,{children:"plugins/JeedomConnect/data/img/user_files/"}),". Il est conseill\xe9 d'utiliser des images PNG en 128x128. Vous pouvez aussi mettre des GIF anim\xe9s."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Images sous conditions"})," : Vous pouvez dans certains widgets d\xe9finir une image en fonction des valeurs d'une commande. L'ordre de ces conditions sera pris en compte par l'appli (les plus hautes sont prioritaires)."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Ajouter des infos"})," : vous permet d'ajouter des commandes de type ",(0,d.jsx)(s.code,{children:"info"})," de votre Jeedom et de vous en servir pour les autres champs du formulaire 'Images sous conditions', 'Nom', 'Sous-titre'."]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Textes dynamiques"})," : Les champs ",(0,d.jsx)(s.code,{children:"Nom"})," et ",(0,d.jsx)(s.code,{children:"Sous-titre"}),", ainsi que les conditions d'affichage d'images peuvent \xeatre personnalis\xe9s. Ils sont \xe9valu\xe9s dans l'application en JavaScript. Les raccourcis suivants sont aussi disponibles (liste non exhaustive mais disponible dans la configuration de chaque widget c\xf4t\xe9 plugin) :"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"#room#"})," : Nom de la pi\xe8ce associ\xe9e au widget"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"#status#"})," ou ",(0,d.jsx)(s.code,{children:"#value#"})," (selon les widgets) : donne la valeur courante de la commande info principale du widget"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"#formatedValue#"})," (selon les widgets) : valeur format\xe9e en mot de la commande info principale (par exemple ",(0,d.jsx)(s.code,{children:"Allum\xe9"}),", ",(0,d.jsx)(s.code,{children:"Eteint"}),")"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"#elapsedTime#"})," : dur\xe9e depuis laquelle la commande info principale du widget a \xe9t\xe9 modifi\xe9e\nExemple :\n",(0,d.jsx)(s.code,{children:"La lumi\xe8re de #room# est formatedValue depuis elapsedTime et consomme power W"}),(0,d.jsx)(s.br,{}),"\n","pourra donner :",(0,d.jsx)(s.br,{}),"\n",(0,d.jsx)(s.code,{children:"La lumi\xe8re de jardin est allum\xe9e depuis 1h12min et consomme 15W"})]}),"\n"]}),"\n",(0,d.jsx)("span",{id:"momentjs"}),"\n",(0,d.jsx)(s.p,{children:"Les fonctions suivantes sont \xe9galement disponibles, pour une commande info not\xe9e ici #cmd# :"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"time(#cmd#)"})," : dur\xe9e depuis laquelle la commande info principale du widget a \xe9t\xe9 modifi\xe9e"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"date(#cmd#)"}),' : date et heure de derni\xe8re modification de la valeur, au format "DD MMM - HH',":mm",'"']}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"collect(#cmd#)"}),' : date et heure de derni\xe8re collecte de la valeur, au format "DD MMM - HH',":mm",'"']}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"average(#cmd#)"})," : moyenne des valeurs de la commande (#cmd# doit \xeatre historis\xe9e)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"min(#cmd#)"})," : minimum des valeurs de la commande (#cmd# doit \xeatre historis\xe9e)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"max(#cmd#)"})," : maximum des valeurs de la commande (#cmd# doit \xeatre historis\xe9e)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"tendance(#cmd#)"})," : renvoie ",(0,d.jsx)(s.code,{children:"up"}),", ",(0,d.jsx)(s.code,{children:"down"})," ou ",(0,d.jsx)(s.code,{children:"stable"})," selon la tendance des valeurs (#cmd# doit \xeatre historis\xe9e)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"modifiedDate(#cmd#)"})," : donne le timestamp en ms de la derni\xe8re modification"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"collectDate(#cmd#)"})," : donne le timestamp en ms de la derni\xe8re collecte"]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["De plus, pour la manipulation des dates, vous avez acc\xe8s \xe0 la biblioth\xe8que ",(0,d.jsx)(s.code,{children:"momentjs"})," (",(0,d.jsx)(s.a,{href:"https://momentjs.com/docs/#/displaying/",children:"documentation"}),"). Exemple :"]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:'`La tondeuse est {#cmd# > 0 ? "en marche" : "au repos"} depuis le moment(modifiedDate(#cmd#)).format("DD MMMM \xe0 HH-mm")`'}),"\npourra donner :\n",(0,d.jsx)(s.code,{children:"La tondeuse est au repos depuis le 30 Septembre \xe0 13:31"}),"\n(notez l'usage des backquote qui entourent le texte)"]}),"\n",(0,d.jsx)(s.p,{children:'La duplication d\'un widget est r\xe9alisable d\xe8s que celui-ci a \xe9t\xe9 sauvegard\xe9 une premi\xe8re fois. Cliquez simplement sur le bouton "Dupliquer", r\xe9alisez vos modifications (ou pas), et enregistrez (imp\xe9rativement) en validant avec le bouton "Sauvegarder".'}),"\n",(0,d.jsx)(s.p,{children:"La suppression est \xe9galement possible. Attention toutefois, si un widget est supprim\xe9, alors il dispara\xeetra de l'ensemble des \xe9quipements auxquels il avait \xe9t\xe9 ajout\xe9 !"}),"\n",(0,d.jsx)(s.h2,{id:"widgets-disponibles",children:"Widgets disponibles"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{}),(0,d.jsx)(s.th,{}),(0,d.jsx)(s.th,{})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Alarme"}),(0,d.jsx)(s.td,{children:"Cam\xe9ra"}),(0,d.jsx)(s.td,{children:"Climatiseur"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Favoris"}),(0,d.jsx)(s.td,{children:"Fen\xeatre"}),(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique actions"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique binaire"}),(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique message"}),(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique num\xe9rique"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique slider"}),(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique switch"}),(0,d.jsx)(s.td,{children:"G\xe9n\xe9rique texte"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"G\xe9olocalisation"}),(0,d.jsx)(s.td,{children:"Groupe d'alarmes"}),(0,d.jsx)(s.td,{children:"Groupe de fen\xeatres"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Groupe de g\xe9n\xe9riques binaires"}),(0,d.jsx)(s.td,{children:"Groupe de lumi\xe8res"}),(0,d.jsx)(s.td,{children:"Groupe de PIR"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Groupe de portes"}),(0,d.jsx)(s.td,{children:"Groupe de prises"}),(0,d.jsx)(s.td,{children:"Groupe de volets"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Humidit\xe9"}),(0,d.jsx)(s.td,{children:"Liste de choix"}),(0,d.jsx)(s.td,{children:"Lumi\xe8re \xe0 variation"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Lumi\xe8re de couleurs"}),(0,d.jsx)(s.td,{children:"Lumi\xe8re On/Off"}),(0,d.jsx)(s.td,{children:"Luminosit\xe9"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Mode"}),(0,d.jsx)(s.td,{children:"PIR"}),(0,d.jsx)(s.td,{children:"Portail coulissant"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Porte"}),(0,d.jsx)(s.td,{children:"Prise"}),(0,d.jsx)(s.td,{children:"Puissance"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"R\xe9sum\xe9"}),(0,d.jsx)(s.td,{children:"R\xe9sum\xe9 de pi\xe8ce"}),(0,d.jsx)(s.td,{children:"Sc\xe9nario"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Temp\xe9rature"}),(0,d.jsx)(s.td,{children:"Thermostat"}),(0,d.jsx)(s.td,{children:"Volet"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Web View"}),(0,d.jsx)(s.td,{children:"Historique"}),(0,d.jsx)(s.td,{children:"Image"})]})]})]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>o});var n=i(6540);const d={},t=n.createContext(d);function r(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);