"use strict";(self.webpackChunkjc_doc=self.webpackChunkjc_doc||[]).push([[734],{8076:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"documentation/plugin/equipment/commands","title":"Commandes","description":"Par d\xe9faut les commandes suivantes sont disponibles dans chaque \xe9quipement.","source":"@site/docs/documentation/plugin/equipment/commands.md","sourceDirName":"documentation/plugin/equipment","slug":"/documentation/plugin/equipment/commands","permalink":"/jc-doc/docs/documentation/plugin/equipment/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/jeedomconnect-team/jc-doc/edit/main/docs/documentation/plugin/equipment/commands.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Configuration de l\'appareil","permalink":"/jc-doc/docs/documentation/plugin/equipment/deviceConfig"},"next":{"title":"Premier lancement","permalink":"/jc-doc/docs/documentation/app/intro"}}');var s=i(4848),d=i(8453);const c={sidebar_position:4},l="Commandes",o={},a=[{value:"Commandes infos",id:"commandes-infos",level:2},{value:"Commandes actions",id:"commandes-actions",level:2}];function t(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"commandes",children:"Commandes"})}),"\n",(0,s.jsx)(n.p,{children:"Par d\xe9faut les commandes suivantes sont disponibles dans chaque \xe9quipement."}),"\n",(0,s.jsx)(n.h2,{id:"commandes-infos",children:"Commandes infos"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Batterie"})," : Permet de connaitre le % de batterie de votre appareil. L'information est remont\xe9e si l'application est ouverte ou si le service est activ\xe9"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Position"})," : Lorsque la g\xe9olocation est activ\xe9e, donne les coordonn\xe9es GPS de l'appareil sous la forme ",(0,s.jsx)(n.code,{children:"latitude,longitude"}),". Il est aussi possible d'ajouter l'altitude, l'activit\xe9 et la batterie en cochant la case correspondante dans les param\xe8tres de l'\xe9quipement."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Activit\xe9"})," : Lorsque la g\xe9olocalisation est activ\xe9e, donne l'activit\xe9 en cours sur l'appareil. LValeurs possibles : ",(0,s.jsx)(n.code,{children:"still"}),", ",(0,s.jsx)(n.code,{children:"on_foot"}),", ",(0,s.jsx)(n.code,{children:"running"}),", ",(0,s.jsx)(n.code,{children:"on_bicycle"})," et ",(0,s.jsx)(n.code,{children:"in_vehicle"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Etat \xe9cran"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : Binaire qui permet de conna\xeetre l'\xe9tat allum\xe9 / \xe9teint de l'\xe9cran"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"En charge"}),"  ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : Binaire qui permet de savoir si l'appareil est en charge"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Etat Bluetooth"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : Binaire qui permet de savoir si un p\xe9riph\xe9rique bluetooth est connect\xe9"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Etat Wifi"})," ",(0,s.jsx)(n.em,{children:"[Android, Service, Localisation autoris\xe9e & activ\xe9e]"})," : Binaire qui permet de savoir si l'appareil est connect\xe9 \xe0 un r\xe9seau wifi"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Adresse IP"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : Lorsque l'appareil est reli\xe9 au r\xe9seau wifi, indique l'adresse IP"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"R\xe9seau wifi (SSID)"})," ",(0,s.jsx)(n.em,{children:"[Android, Service, Localisation autoris\xe9e & activ\xe9e]"})," : Lorsque l'appareil est reli\xe9 au r\xe9seau wifi, indique le nom du point d'acc\xe8s"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Visage pr\xe9sent"})," ",(0,s.jsx)(n.em,{children:"[Android]"})," : indique si un visage est d\xe9tect\xe9 devant l'\xe9cran de l'\xe9quipement"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Volume actuel"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," pour connaitre les 6 diff\xe9rents volumes de son appareil (en fonction des OS et surcouche). La commande est valoris\xe9e par d\xe9faut avec l'ensemble des volumes disponible, selon le format suivant : ",(0,s.jsx)(n.code,{children:"Alarme;Appel;Musique;Notification;Sonnerie;Syst\xe8me;"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Prochaine alarme"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : permet de r\xe9cup\xe9rer (au format timestamp) l'heure de la prochaine alarme"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Package Prochaine Alarme"}),(0,s.jsx)(n.em,{children:"[Android, Service]"})," : permet de savoir quel est le package qui d\xe9clenchera la prochaine alarme sur votre t\xe9l\xe9phone"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"commandes-actions",children:"Commandes actions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Notification"})," : Commande de notification par d\xe9faut"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Afficher page"})," : Lorsque l'application est en premier plan, permet de basculer sur une page donn\xe9e. Il s'agit d'une commande action message. Pour l'utiliser, commencer par rep\xe9rer l'",(0,s.jsx)(n.code,{children:"id"})," de la page. Cell-ci est disponible en survolant votre souris sur les menus de l'assistant de configuration. Indiquez alors cet ",(0,s.jsx)(n.code,{children:"id"})," dans le champs ",(0,s.jsx)(n.code,{children:"Id page"})," de la commande."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Lancer App"})," ",(0,s.jsx)(n.em,{children:"[Android]"})," : Lorsque l'application est en premier plan ou que le service est activ\xe9, permet de lancer sur votre appareil une application. Il s'agit d'une commande action message qui accepte dans son champs ou ",(0,s.jsx)(n.code,{children:"Nom de l'application"})," le nom du package de l'application. L'autorisation syst\xe8me ",(0,s.jsx)(n.code,{children:"Superposition sur d'autres applis"})," doit \xeatre activ\xe9e (Android >= 10)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"D\xe9tacher"})," : Permet de d\xe9tacher l'appareil de l'\xe9quipement."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Notifier les appareils JC"})," : Permet d'envoyer un m\xeame message \xe0 plusieurs appareils. (cf la configuration plus bas !)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Pop-up"})," : Permet d'afficher un pop-up sur votre appareil. Elle sera affich\xe9e directement dans l'application si celle-ci est ouverte, et sinon en popup syst\xe8me ",(0,s.jsx)(n.em,{children:"[Android seulement]"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Modifier Pr\xe9f\xe9rences Appli"})," : Permet de modifier certaines options de votre application. Faites un choix dans la liste d\xe9roulante, puis indiquez la valeur \xe0 mettre si n\xe9cessaire : ",(0,s.jsx)(n.code,{children:"ON"}),", ",(0,s.jsx)(n.code,{children:"OFF"}),", ",(0,s.jsx)(n.code,{children:"MARCHE"}),", ",(0,s.jsx)(n.code,{children:"ARRET"}),"\nListe des actions (fonctionnent m\xeame appli tu\xe9e) :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Sch\xe9ma th\xe8me"})," : entrer l'id du sch\xe9ma \xe0 appliquer","\n",(0,s.jsx)(i,{children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)("summary",{children:"Liste des sch\xe9mas"}),"\njeedomConnect,    material,    materialHc,    blue,    indigo,  hippieBlue,\naquaBlue,    brandBlue,    deepBlue,    sakura,    mandyRed,    red,   redWine,    purpleBrown,    green,    money,    jungle,    greyLaw,    wasabi,    gold,    mango,    amber,    vesuviusBurn,    deepPurple,ebonyClay,    barossa,    shark,    bigStone,    damask,    bahamaBlue,\nmallardGreen,    espresso,    outerSpace,    blueWhale,    sanJuanBlue,\nrosewood,    blumineBlue,    reactDash,    materialBaseline,    verdunHemlock,    dellGenoa,    customColors"]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Activer mode sombre"})," : ",(0,s.jsx)(n.code,{children:"ON"}),", ",(0,s.jsx)(n.code,{children:"OFF"})," ou tout autre chose pour le mode auto"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Activer le tracking"})," : ",(0,s.jsx)(n.code,{children:"MARCHE"})," ou ",(0,s.jsx)(n.code,{children:"ARRET"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Recharger les donn\xe9es"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Service JC"})," ",(0,s.jsx)(n.em,{children:"[Android]"})," : ",(0,s.jsx)(n.code,{children:"ON"}),", ",(0,s.jsx)(n.code,{children:"OFF"}),", permet d'activer / d\xe9sactiver le service."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Envoyer un SMS"})," ",(0,s.jsx)(n.em,{children:"[Android, Version APK sur git uniquement]"})," : Permet d'envoyer un SMS.\nChamp ",(0,s.jsx)(n.code,{children:"Titre"})," : num\xe9ro du destinataire.\nChamp ",(0,s.jsx)(n.code,{children:"Message"})," : contenu du SMS.\nCette fonction est utilisable dans n'importe quel \xe9tat de l'application (premier-plan, arri\xe8re-plan, tu\xe9e)\nPour utiliser cette fonction, vous devez d'abord vous rendre dans les autorisations de l'appli puis accepter celle correspondant \xe0 l'envoie de SMS."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Allumer l'\xe9cran"})," ",(0,s.jsx)(n.em,{children:"[Android]"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Eteindre l'\xe9cran"})," ",(0,s.jsx)(n.em,{children:"[Android, d\xe9finir JC comme appli d'administration]"})," : Cette action requiert que l'application Jeedom Connect soit d\xe9finie en tant qu'",(0,s.jsx)(n.code,{children:"Appli d'administration du syst\xe8me"})," (g\xe9n\xe9ralement dans la section ",(0,s.jsx)(n.code,{children:"S\xe9curit\xe9"})," des param\xe8tres de votre appareil)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Jouer un son"})," ",(0,s.jsx)(n.em,{children:"[Android, Service]"})," : Permet de lire un fichier audio sur l'appareil. Indiquez une URL compl\xe8te, ou bien un chemin absolu sur votre installation Jeedom (par exemple ",(0,s.jsx)(n.code,{children:"/var/www/html/data/bip-bip.mp3"}),"), ou bien le chemin d'un fichier local sur votre appareil (par exemple ",(0,s.jsx)(n.code,{children:"file:///storage/emulated/0/Music/file.ogg"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"TTS"})," : Permet d'utiliser la fonction ",(0,s.jsx)(n.code,{children:"Text to Speach"})," de votre appareil pour lire un texte. Sur iOS, l'application doit \xeatre ouverte"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Mode sonnerie"})," ",(0,s.jsx)(n.em,{children:"[Android]"})," : Permet d'activer un mode de sonnerie ",(0,s.jsx)(n.code,{children:"Silencieux"}),", ",(0,s.jsx)(n.code,{children:"Normal"})," ou ",(0,s.jsx)(n.code,{children:"Vibreur"}),". Dans le champs ",(0,s.jsx)(n.code,{children:"Titre"})," de la commande, indiquez l'un des mots cl\xe9 ",(0,s.jsx)(n.code,{children:"silent"}),", ",(0,s.jsx)(n.code,{children:"normal"}),", ",(0,s.jsx)(n.code,{children:"vibrate"}),". Pour Android N et sup\xe9rieur, l'application a besoin de l'autorisation ",(0,s.jsx)(n.code,{children:'Acc\xe8s au mode "Ne pas d\xe9ranger"'}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Modifier Volume"})," : Permet de r\xe9gler le volume de l'appareil (en %). Pour Android, vous pouvez sp\xe9cifier en plus dans champs ",(0,s.jsx)(n.code,{children:"Titre"})," de la commande le canal audio \xe0 modifier, parmi ",(0,s.jsx)(n.code,{children:"music"}),", ",(0,s.jsx)(n.code,{children:"call"}),", ",(0,s.jsx)(n.code,{children:"system"}),", ",(0,s.jsx)(n.code,{children:"ring"}),", ",(0,s.jsx)(n.code,{children:"alarm"}),", ",(0,s.jsx)(n.code,{children:"notification"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Commande shell"})," ",(0,s.jsx)(n.em,{children:"[Android]"}),", ",(0,s.jsx)(n.strong,{children:"[Root]"})," : Si votre appareil poss\xe8de les privil\xe8ges root, permet d'ex\xe9cuter n'importe quelle commande. A la premi\xe8re utilisation, votre gestionnaire de ",(0,s.jsx)(n.code,{children:"Super utilisateur"})," vous demandera l'autorisation."]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:"Exemples de commandes"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Lancer une activit\xe9 : ",(0,s.jsx)(n.code,{children:"su -c am start -n com.jeedomconnect.app/.MainActivity"})]}),"\n",(0,s.jsxs)(n.li,{children:["Activer / d\xe9sactiver le bluetooth : ",(0,s.jsx)(n.code,{children:"su -c service call bluetooth_manager 6"})," (changer 6 en 8 pour d\xe9sactiver)"]}),"\n",(0,s.jsxs)(n.li,{children:["Activer / d\xe9sactiver le wifi : ",(0,s.jsx)(n.code,{children:"su -c svc wifi enable"})," (changer enable en disable pour d\xe9sactiver)"]}),"\n",(0,s.jsxs)(n.li,{children:["Red\xe9marrer l'appareil : ",(0,s.jsx)(n.code,{children:"su -c reboot"})]}),"\n"]})]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(6540);const s={},d=r.createContext(s);function c(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);