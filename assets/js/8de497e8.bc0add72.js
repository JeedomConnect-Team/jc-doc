"use strict";(self.webpackChunksource=self.webpackChunksource||[]).push([[9530],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),u=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,g=d["".concat(l,".").concat(m)]||d[m]||c[m]||o;return n?i.createElement(g,a(a({ref:t},p),{},{components:n})):i.createElement(g,a({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,a[1]=s;for(var u=2;u<o;u++)a[u]=n[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9145:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var i=n(7462),r=(n(7294),n(3905));const o={id:"plugin-config",title:"Configuration du plugin",sidebar_position:1},a=void 0,s={unversionedId:"plugin/plugin-config",id:"plugin/plugin-config",title:"Configuration du plugin",description:"La configuration du Plugin s'effectue depuis Jeedom : Plugins / Communication / Jeedom Connect / Gestion / Configuration.",source:"@site/docs/plugin/configuration.md",sourceDirName:"plugin",slug:"/plugin/plugin-config",permalink:"/jc-doc/docs/plugin/plugin-config",draft:!1,editUrl:"https://github.com/jared-94/jc-doc/edit/main/docs/plugin/configuration.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"plugin-config",title:"Configuration du plugin",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/jc-doc/docs/intro"},next:{title:"Widgets et composants",permalink:"/jc-doc/docs/plugin/widgets"}},l={},u=[{value:"Logs et surveillance",id:"logs-et-surveillance",level:2},{value:"D\xe9mon",id:"d\xe9mon",level:2},{value:"Configurer l&#39;acc\xe8s \xe0 votre jeedom",id:"configurer-lacc\xe8s-\xe0-votre-jeedom",level:2},{value:"Personnaliser le plugin",id:"personnaliser-le-plugin",level:2},{value:"Chemin pour les images perso",id:"chemin-pour-les-images-perso",level:3},{value:"Tri des widgets",id:"tri-des-widgets",level:3},{value:"Qr Code",id:"qr-code",level:3},{value:"Logo JC",id:"logo-jc",level:4},{value:"Afficher sur page",id:"afficher-sur-page",level:4},{value:"Cr\xe9ation de widget",id:"cr\xe9ation-de-widget",level:3},{value:"Mode strict",id:"mode-strict",level:4},{value:"Mode expert",id:"mode-expert",level:4},{value:"Logs",id:"logs",level:3},{value:"Plugin verbose",id:"plugin-verbose",level:4},{value:"D\xe9mon",id:"d\xe9mon-1",level:4},{value:"Sauvegardes",id:"sauvegardes",level:3},{value:"Localisation",id:"localisation",level:2},{value:"la Zone des Dangers",id:"la-zone-des-dangers",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...o}=e;return(0,r.kt)(d,(0,i.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"La configuration du ",(0,r.kt)("strong",{parentName:"p"},"Plugin")," s'effectue depuis Jeedom : ",(0,r.kt)("inlineCode",{parentName:"p"},"Plugins")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"Communication")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"Jeedom Connect")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"Gestion")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"Configuration"),"."),(0,r.kt)("h2",{id:"logs-et-surveillance"},"Logs et surveillance"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Logs",src:n(1516).Z,width:"717",height:"160"})),(0,r.kt)("p",null,"En cas de probl\xe8mes, vous trouverez ici les logs du plugin. Activez le mode ",(0,r.kt)("strong",{parentName:"p"},"Debug")," pour plus d'informations.",(0,r.kt)("br",{parentName:"p"}),"\n","En usage normal, il est fortement conseill\xe9 de rester sur le niveau ",(0,r.kt)("strong",{parentName:"p"},"Defaut"),"."),(0,r.kt)("h2",{id:"d\xe9mon"},"D\xe9mon"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"D\xe9mon",src:n(5861).Z,width:"1459",height:"135"})),(0,r.kt)("p",null,"Jeedom Connect est \xe9quip\xe9 d'un d\xe9mon qui permet d'\xe9tablir la connexion en ",(0,r.kt)("strong",{parentName:"p"},"Websocket")," avec l'application."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Le d\xe9mon est automatiquement d\xe9sactiv\xe9 si aucun de vos \xe9quipement n'utilise le protocole ",(0,r.kt)("strong",{parentName:"p"},"Websocket"),".")),(0,r.kt)("h2",{id:"configurer-lacc\xe8s-\xe0-votre-jeedom"},"Configurer l'acc\xe8s \xe0 votre jeedom"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Configuration",src:n(7435).Z,width:"1455",height:"403"})),(0,r.kt)("p",null,"Il y a plusieurs champs  pr\xe9-remplis que vous pouvez modifier. Des placeholder sont indiqu\xe9s sur chacun d'entre eux. S'ils vous semblent corrects, inutile de les modifier."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Adresse http externe")," : Indiquez ici votre adresse d'acc\xe8s \xe0 Jeedom depuis l'ext\xe9rieur de votre domicile."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Adresse http interne")," : Adresse de Jeedom sur votre r\xe9seau local."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Activer la connexion par Websocket")," : Indiquera \xe0 l'application si vous pr\xe9f\xe9rez utiliser le protocole Websocket pour la communication avec vos appareils. Notez tout de m\xeame que l'adresse HTTP est n\xe9cessaire au bon fonctionement de certains services (images persos, g\xe9olocalisation, actions sur notifications)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Port d'\xe9coute du websocket")," : Sauf si vous avez une application qui utilise ce port, vous n'avez pas besoin de le modifier. En cas de modification, n'oubliez pas de red\xe9marrer le d\xe9mon."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Adresse externe websocket")," : Adresse websocket accessible depuis l'ext\xe9rieur (n\xe9cessite une configuration de votre r\xe9seau)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Adresse interne websocket")," : Adresse websocket sur votre r\xe9seau local")),(0,r.kt)("p",null,"Si vous modifiez un de ces champs, il faudra bien s\xfbr sauvegarder, puis re-g\xe9n\xe9rer les QR Code des \xe9quipements. En cas d'utilisation du HTTP, il faudra aussi red\xe9marrer l'appli."),(0,r.kt)("admonition",{title:"Attention",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Pour le bon fonctionnement de l'application, il est essentiel que les adresses ",(0,r.kt)("strong",{parentName:"p"},"http")," soient correctement renseign\xe9es.")),(0,r.kt)("h2",{id:"personnaliser-le-plugin"},"Personnaliser le plugin"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Personnalisation",src:n(4915).Z,width:"1319",height:"264"})),(0,r.kt)("h3",{id:"chemin-pour-les-images-perso"},"Chemin pour les images perso"),(0,r.kt)("p",null,"Vous avez la possibilit\xe9 de personnaliser le chemin d'acc\xe8s \xe0 vos images/ic\xf4nes.",(0,r.kt)("br",{parentName:"p"}),"\n","Par d\xe9faut, les images personnalis\xe9es du plugin sont stock\xe9es sous ",(0,r.kt)("inlineCode",{parentName:"p"},"plugins/JeedomConnect/data/img/user_files/"),".  "),(0,r.kt)("p",null,"Vous pouvez choisir d'utiliser un autre emplacement en renseignant le champ ",(0,r.kt)("inlineCode",{parentName:"p"},"Chemin pour les images perso")," le chemin d'acc\xe8s au r\xe9pertoire qui contient vos images et ic\xf4nes personnels. "),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Le chemin ne dois PAS contenir la racine"),(0,r.kt)("blockquote",{parentName:"admonition"},(0,r.kt)("p",{parentName:"blockquote"},"par exemple, si vous souhaitez utiliser le r\xe9pertoire ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/www/html/data/img/")," alors indiquez : ",(0,r.kt)("inlineCode",{parentName:"p"},"data/img/")," dans le champ  (attention au dernier ",(0,r.kt)("inlineCode",{parentName:"p"},"/"),"!)"))),(0,r.kt)("h3",{id:"tri-des-widgets"},"Tri des widgets"),(0,r.kt)("p",null,"Tri par d\xe9faut sur la page principale du plugin et dans l'assistant de configuration."),(0,r.kt)("h3",{id:"qr-code"},"Qr Code"),(0,r.kt)("h4",{id:"logo-jc"},"Logo JC"),(0,r.kt)("p",null,"Ins\xe8re le logo JC \xe0 l'int\xe9rieur du qr code de chaque \xe9quipement."),(0,r.kt)("h4",{id:"afficher-sur-page"},"Afficher sur page"),(0,r.kt)("p",null,"Au survol d'un \xe9quipement, son QR Code est affich\xe9 en haut de la page principale du plugin."),(0,r.kt)("h3",{id:"cr\xe9ation-de-widget"},"Cr\xe9ation de widget"),(0,r.kt)("h4",{id:"mode-strict"},"Mode strict"),(0,r.kt)("p",null,"Impose que tous les types g\xe9n\xe9riques n\xe9cessaires soient correctement configur\xe9s pour la cr\xe9ation de widget en masse mais r\xe9duit le nombre d'erreur de l'assistant."),(0,r.kt)("h4",{id:"mode-expert"},"Mode expert"),(0,r.kt)("p",null,"Permet de laisser l'utilisateur modifier les commandes manuellement."),(0,r.kt)("h3",{id:"logs"},"Logs"),(0,r.kt)("h4",{id:"plugin-verbose"},"Plugin verbose"),(0,r.kt)("p",null,"Affiche plus de logs que DEBUG"),(0,r.kt)("admonition",{title:"Attention",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"A n'utiliser qu'en cas de demande par un d\xe9veloppeur")),(0,r.kt)("h4",{id:"d\xe9mon-1"},"D\xe9mon"),(0,r.kt)("p",null,"Vous pouvez choisir un autre niveau de log pour le d\xe9mon."),(0,r.kt)("h3",{id:"sauvegardes"},"Sauvegardes"),(0,r.kt)("p",null,"Nombre de copies de sauvegarde de vos pr\xe9f\xe9rences applicatives que vous souhaitez conserver."),(0,r.kt)("h2",{id:"localisation"},"Localisation"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Localisation",src:n(8969).Z,width:"1133",height:"127"})),(0,r.kt)("h2",{id:"la-zone-des-dangers"},"la Zone des Dangers"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Danger",src:n(9948).Z,width:"1357",height:"170"})),(0,r.kt)("p",null,"Les actions disponibles dans cette partie sont \xe0 utiliser avec pr\xe9caution. Vous pouvez en effet perdre l'int\xe9galit\xe9 de vos configurations si vous ne faites pas attention \xe0 ce que vous faites.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"R\xe9initialiser")," : efface les configurations de l'ensemble de vos \xe9quipements. Vous devrez donc red\xe9finir quels sont les widgets que vous souhaitez avoir sur chacun de vos \xe9quipements  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Supprimer")," : remet \xe0 0 l'int\xe9gralit\xe9 du plugin. Vous perdrez TOUTES vos configurations et l'ensemble de vos widgets seront supprim\xe9s. (comme si vous installiez le plugin pour la premi\xe8re fois)  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Lister")," : permet d'obtenir la liste des widgets (id) :",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"non-utilis\xe9s : existant mais rattach\xe9 \xe0 aucun \xe9quipement"),(0,r.kt)("li",{parentName:"ul"},"non-existants : pr\xe9sent dans le fichier de configuration d'un \xe9quipement, mais non cr\xe9\xe9 sur le plugin (mauvaise migration par exemple)"),(0,r.kt)("li",{parentName:"ul"},'tous : liste le nombre de fois o\xf9 un wigdet est utilis\xe9 (format => "widget ID" : "nombre d\'utilisation")  '))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Exporter"),"/",(0,r.kt)("strong",{parentName:"li"},"Importer")," : permet d'extraire l'ensemble de la configuration des widgets, et les r\xe9importer sur une autre instance jeedom  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Migrer")," : transforme les fichiers de configuration dans le nouveau format attendu du plugin")))}c.isMDXComponent=!0},7435:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-config-3cbca3e30885b66c9863624181ca152a.png"},4915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-custom-23fa07de04a03cdd00c60276f4ee62af.png"},5861:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-daemon-5437f18796ebca68710f7c0b11c94a0a.png"},9948:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-danger-d1c2cea24df317e5ca0dac72673b9d58.png"},8969:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-localization-8006a9576618b859164fa79d03dcc308.png"},1516:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/plugin-logs-3b400198f20fc50cb7607a2e0e06ac93.png"}}]);